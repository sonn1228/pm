extends ../../layouts/default.pug

block main 
  .row 
    .col-4
      .card
        .card-body(filter-status)
          .card-header Bộ lọc và Tìm Kiếm
          select.form-select.mt-3(select-status)
            option(value="all") Select All Product
            option(value="active") Select active Product
            option(value="inactive") Select inactive Product

    .col-4 
      .card
        .card-body(sort)
          .card-header Sắp xếp
          select.form-select.mt-3(select-sort)
            option(value="position-desc") Vị trí giảm dần
            option(value="position-asc") Vị trí tăng dần
            option(value="price-desc") Giá giảm dần
            option(value="price-asc") Giá tăng dần
            option(value="title-asc") Tiêu đề A - Z
            option(value="title-desc") Tiêu đề Z - A
    .col-4 
      form(form-search)
        .input-group
          input(
            type="text"
            placeholder="Nhập từ khóa"
            name="keyword"
            class="form-control"
            value=objSearch.keyword
          )
          .input-group-append
            button(
              class="btn btn-success"
              type="submit"
            ) Tìm

  table(
    class="table table-hover table-sm"
  )
    thead
      tr
        th STT
        th Hình ảnh
        th Tiêu đề
        th Giá
        th Vị trí
        th Trạng thái
        th Hành động
    tbody
      each item, index in products
        tr
          td #{index + 1}
          td
            img(
              src=item.thumbnail
              alt=item.title
              width="100px"
              height="auto"
            )
          td 
            h6 #{item.title}
          td #{item.price}$
          td
            input(
              name="position"
              value=item.position
              type="number"
              style="width: 60px;"
              min="1"
            )
          td
            if(item.status == "active")
              button(
                button-change-status
                data-id=item.id
                data-status="inactive"
                class="badge badge-success"
              ) Hoạt động
            else
              button(
                button-change-status
                data-id=item.id
                data-status="active"
                class="badge badge-danger"
              ) Dừng hoạt động
          td
            a(
              href=`${prefixAdmin}/products/edit/${item.id}`
              class="btn btn-warning btn-sm"
            ) Sửa
            button(
              class="btn btn-danger btn-sm ml-1"
              button-delete
              data-id=item.id
            ) Xóa
            a(
              href=`${prefixAdmin}/products/detail/${item.id}`
              class="btn btn-info btn-sm ml-1"
            ) Chi tiết
